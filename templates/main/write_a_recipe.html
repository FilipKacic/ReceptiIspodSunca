{% extends "base_generic.html" %}
{% block content %}
    <button>
        <a href="user_recipes">Odustani</a>
    </button>
    <h3>Napi≈°i Recept</h3>
    <div class="recipe">
        <form method="post" class="recipe-form">
            {% csrf_token %}
            <div class="form-group">
                <label for="{{ form.name.id_for_label }}">Naziv:</label>
                {{ form.name }}
            </div>
            <div class="form-group">
                <label for="{{ form.category.id_for_label }}">Kategorija:</label>
                {{ form.category }}
            </div>
            <div class="form-group">
                <label for="{{ form.equipment.id_for_label }}">Oprema:</label>
                {{ form.equipment }}
            </div>
            <div class="form-group">
                <label for="{{ form.ingredients.id_for_label }}">Sastojci:</label>
                {{ form.ingredients }}
            </div>
            <div class="form-group">
                <label for="{{ form.time_needed.id_for_label }}">Vrijeme potrebno za pripremu:</label>
                {{ form.time_needed }}
                <label for="{{ form.time_measurement_unit.id_for_label }}"></label>
                {{ form.time_measurement_unit }}
            </div>
            <div class="form-group">
                <label for="{{ form.preperation.id_for_label }}">Priprema:</label>
                {{ form.preperation }}
            </div>
            <div class="flex-center">
                <button type="submit" class="btn btn-primary" onclick="validateForm()">Spremi recept</button>
            </div>
        </form>
    </div>
    <script>
        function validateForm() {
            var timeNeeded = document.getElementById("id_time_needed").value;
            if (isNaN(timeNeeded) || timeNeeded <= 0) {
                alert("Vrijeme potrebno za pripremu mora biti pozitivan broj.");
            } else {
                document.getElementById("recipe-writing-form").submit(); // Submit the form if validation passes
            }
        }
    </script>
{% endblock %}
